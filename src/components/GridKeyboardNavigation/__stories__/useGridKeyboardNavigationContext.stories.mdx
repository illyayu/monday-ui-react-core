import { useRef } from "react";
import { useGridKeyboardNavigationContext, GridKeyboardNavigationContext } from "../GridKeyboardNavigationContext";
import { ArgsTable, Story, Canvas, Meta } from "@storybook/addon-docs";
import { createStoryMetaSettings } from "../../../storybook/functions/create-component-story";
import { DummyNavigableGrid } from "./useGridKeyboardNavigationContext.stories";
import { Flex } from "../..";
export const metaSettings = createStoryMetaSettings({
  component: useGridKeyboardNavigationContext
});

<Meta 
  title="Keyboard/useGridKeyboardNavigationContext" 
  component={ useGridKeyboardNavigationContext } 
  argTypes={ metaSettings.argTypes }
  decorators={ metaSettings.decorators } 
  />

<!--- Component documentation -->

# useGridKeyboardNavigationContext

- [Overview](#overview)
- [Usage](#usage)
- [Arguments](#arguments)
- [Returns](#returns)
- [Feedback](#feedback)

## Overview

A hook used to specify a connection between multiple navigable components, which are navigable between each other.

<Canvas>
  <Story name="Overview">{
    () => {
      const wrapperRef = useRef(null);
      const leftElRef = useRef(null);
      const rightElRef = useRef(null);
      const keyboardContext = useGridKeyboardNavigationContext([{leftElement: leftElRef, rightElement: rightElRef}], wrapperRef)
      return <Flex ref={wrapperRef}>
        <GridKeyboardNavigationContext.Provider value={keyboardContext}>
          <DummyNavigableGrid ref={leftElRef} itemsCount={15} numberOfItemsInLine={4} itemPrefix={"L "}/>
          <DummyNavigableGrid ref={rightElRef} itemsCount={9} numberOfItemsInLine={2} itemPrefix={"R "}/>
        </GridKeyboardNavigationContext.Provider>
      </Flex>
  }}</Story>
</Canvas>

## Usage

<UsageGuidelines
  guidelines={[
    "Use this hook when you want to add keyboard navigation between multiple grid-like components.",
    "Each of the components should use `useGridKeyboardNavigation`.",
    "The components should be wrapped with a single `GridKeyboardNavigationContext`."
  ]}
/>


TODO: add explanation of the arguments

## Variants

 TODO: add example of multiple layers
